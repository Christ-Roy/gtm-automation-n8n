{
  "name": "MCP GTM Autonome",
  "nodes": [
    {
      "parameters": {},
      "name": "Start",
      "type": "n8n-nodes-base.start",
      "typeVersion": 1,
      "position": [
        220,
        160
      ],
      "id": "e757d8ef-180e-438d-89d1-c7f88151f994"
    },
    {
      "parameters": {
        "values": {
          "string": [
            {
              "name": "accountId",
              "value": "={{ $json.accountId || \"6276037669\" }}"
            },
            {
              "name": "containerId",
              "value": "={{ $json.containerId || \"210165143\" }}"
            },
            {
              "name": "workspaceId",
              "value": "={{ $json.workspaceId || \"1\" }}"
            },
            {
              "name": "conversionId",
              "value": "={{ $json.conversionId || \"16965181803\" }}"
            },
            {
              "name": "conversionLabel",
              "value": "={{ $json.conversionLabel || \"h2PJCLqBiLQaEOvC0Jk_\" }}"
            },
            {
              "name": "autoPublish",
              "value": "={{ $json.autoPublish || true }}"
            }
          ]
        },
        "options": {}
      },
      "name": "Param√®tres d'entr√©e",
      "type": "n8n-nodes-base.set",
      "typeVersion": 1,
      "position": [
        440,
        160
      ],
      "id": "9ce33bc0-710f-4d38-80d7-f09b2a9a5399"
    },
    {
      "parameters": {
        "url": "=https://tagmanager.googleapis.com/tagmanager/v2/accounts/{{$node[\"Param√®tres d'entr√©e\"].json[\"accountId\"]}}/containers/{{$node[\"Param√®tres d'entr√©e\"].json[\"containerId\"]}}/workspaces/{{$node[\"Param√®tres d'entr√©e\"].json[\"workspaceId\"]}}/triggers",
        "authentication": "predefinedCredentialType",
        "nodeCredentialType": "googleOAuth2Api",
        "options": {}
      },
      "name": "R√©cup√©rer les d√©clencheurs",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 3,
      "position": [
        660,
        320
      ],
      "id": "d291460c-eda2-4482-bb08-076b63950ddd",
      "credentials": {
        "googleOAuth2Api": {
          "id": "vNG2KvbLx9MfF0Iq",
          "name": "Google tag manager"
        }
      }
    },
    {
      "parameters": {
        "functionCode": "// R√©cup√©rer les donn√©es d'entr√©e\nconst triggers = $input.all()[0].json.trigger || [];\n\n// D√©finir les types de d√©clencheurs √† cr√©er\nconst customTriggerTypes = [\n  {\n    name: \"formulaireSoumis\",\n    type: \"customEvent\",\n    customEventFilter: [\n      {\n        type: \"equals\",\n        parameter: [\n          { key: \"arg0\", value: \"{{_event}}\" },\n          { key: \"arg1\", value: \"formulaireSoumis\" }\n        ]\n      }\n    ]\n  },\n  {\n    name: \"phoneClick\",\n    type: \"customEvent\",\n    customEventFilter: [\n      {\n        type: \"equals\",\n        parameter: [\n          { key: \"arg0\", value: \"{{_event}}\" },\n          { key: \"arg1\", value: \"phoneClick\" }\n        ]\n      }\n    ]\n  },\n  {\n    name: \"pageView\",\n    type: \"pageview\",\n    customEventFilter: []\n  }\n];\n\n// Initialiser l'analyse des d√©clencheurs\nlet triggerAnalysis = {\n  existingTriggers: {},\n  needsCreation: [],\n  accountId: $node[\"Param√®tres d'entr√©e\"].json[\"accountId\"],\n  containerId: $node[\"Param√®tres d'entr√©e\"].json[\"containerId\"],\n  workspaceId: $node[\"Param√®tres d'entr√©e\"].json[\"workspaceId\"],\n  allTriggersSummary: []\n};\n\n// Analyser les d√©clencheurs existants\ntriggers.forEach(trigger => {\n  triggerAnalysis.allTriggersSummary.push({\n    name: trigger.name,\n    type: trigger.type,\n    path: trigger.path\n  });\n  \n  // Chercher si c'est un d√©clencheur qui nous int√©resse\n  const matchingTriggerType = customTriggerTypes.find(type => \n    trigger.name.toLowerCase().includes(type.name.toLowerCase()));\n    \n  if (matchingTriggerType) {\n    triggerAnalysis.existingTriggers[matchingTriggerType.name] = {\n      exists: true,\n      path: trigger.path,\n      triggerId: trigger.triggerId\n    };\n  }\n});\n\n// Identifier quels d√©clencheurs doivent √™tre cr√©√©s\ncustomTriggerTypes.forEach(triggerType => {\n  if (!triggerAnalysis.existingTriggers[triggerType.name]) {\n    triggerAnalysis.needsCreation.push(triggerType);\n    triggerAnalysis.existingTriggers[triggerType.name] = {\n      exists: false,\n      path: null,\n      triggerId: null\n    };\n  }\n});\n\nreturn triggerAnalysis;"
      },
      "name": "Analyser les d√©clencheurs",
      "type": "n8n-nodes-base.function",
      "typeVersion": 1,
      "position": [
        880,
        320
      ],
      "id": "4d4c9337-9e34-4d3d-b96e-22fa0f236ab5"
    },
    {
      "parameters": {
        "batchSize": 1,
        "batchInterval": 1000,
        "options": {}
      },
      "name": "D√©clencheurs √† cr√©er",
      "type": "n8n-nodes-base.splitInBatches",
      "typeVersion": 2,
      "position": [
        1100,
        320
      ],
      "id": "66fc2e7f-52d5-4167-ace1-a9f20e504d53",
      "executeOnce": true
    },
    {
      "parameters": {
        "method": "POST",
        "url": "=https://tagmanager.googleapis.com/tagmanager/v2/accounts/{{$node[\"Analyser les d√©clencheurs\"].json[\"accountId\"]}}/containers/{{$node[\"Analyser les d√©clencheurs\"].json[\"containerId\"]}}/workspaces/{{$node[\"Analyser les d√©clencheurs\"].json[\"workspaceId\"]}}/triggers",
        "authentication": "predefinedCredentialType",
        "nodeCredentialType": "googleOAuth2Api",
        "sendBody": true,
        "bodyParameters": {
          "parameters": [
            {
              "name": "name",
              "value": "={{$json.name}}"
            },
            {
              "name": "type",
              "value": "={{$json.type}}"
            },
            {
              "name": "customEventFilter",
              "value": "={{$json.customEventFilter}}"
            }
          ]
        },
        "options": {}
      },
      "name": "Cr√©er d√©clencheur",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 3,
      "position": [
        1320,
        320
      ],
      "id": "f9c52656-436a-47aa-8fc3-1ee209352246",
      "credentials": {
        "googleOAuth2Api": {
          "id": "vNG2KvbLx9MfF0Iq",
          "name": "Google tag manager"
        }
      }
    },
    {
      "parameters": {
        "url": "=https://tagmanager.googleapis.com/tagmanager/v2/accounts/{{$node[\"Param√®tres d'entr√©e\"].json[\"accountId\"]}}/containers/{{$node[\"Param√®tres d'entr√©e\"].json[\"containerId\"]}}/workspaces/{{$node[\"Param√®tres d'entr√©e\"].json[\"workspaceId\"]}}/tags",
        "authentication": "predefinedCredentialType",
        "nodeCredentialType": "googleOAuth2Api",
        "options": {}
      },
      "name": "R√©cup√©rer les balises",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 3,
      "position": [
        660,
        160
      ],
      "id": "d291460c-eda2-4482-bb08-076b63950ddb",
      "credentials": {
        "googleOAuth2Api": {
          "id": "vNG2KvbLx9MfF0Iq",
          "name": "Google tag manager"
        }
      }
    },
    {
      "parameters": {
        "functionCode": "// R√©cup√©rer les donn√©es d'entr√©e\nconst tags = $input.all()[0].json.tag || [];\nconst expectedConversionId = $node[\"Param√®tres d'entr√©e\"].json[\"conversionId\"];\nconst expectedConversionLabel = $node[\"Param√®tres d'entr√©e\"].json[\"conversionLabel\"];\nconst triggerAnalysis = $node[\"Analyser les d√©clencheurs\"].json;\n\n// Initialiser l'objet r√©sultat\nlet result = {\n  initialTagFound: false,\n  matchingTagPath: null,\n  correctConversionId: false,\n  correctConversionLabel: false,\n  needsCreation: false,\n  needsUpdate: false,\n  accountId: $node[\"Param√®tres d'entr√©e\"].json[\"accountId\"],\n  containerId: $node[\"Param√®tres d'entr√©e\"].json[\"containerId\"],\n  workspaceId: $node[\"Param√®tres d'entr√©e\"].json[\"workspaceId\"],\n  conversionId: expectedConversionId,\n  conversionLabel: expectedConversionLabel,\n  triggersToAssociate: []\n};\n\n// R√©cup√©rer les IDs des d√©clencheurs disponibles\nObject.keys(triggerAnalysis.existingTriggers).forEach(key => {\n  const trigger = triggerAnalysis.existingTriggers[key];\n  if (trigger.exists && trigger.triggerId) {\n    result.triggersToAssociate.push(trigger.triggerId);\n  }\n});\n\n// Rechercher les balises de conversion Google Ads\nconst conversionTags = tags.filter(tag => \n  tag.type === \"googtag\" && \n  tag.parameter && \n  tag.parameter.some(param => \n    param.key === \"tag_type\" && \n    param.value === \"ads_conversion\"\n  )\n);\n\nif (conversionTags.length > 0) {\n  // Au moins une balise de conversion trouv√©e\n  result.initialTagFound = true;\n  \n  // V√©rifier si une balise a l'ID et le label de conversion corrects\n  for (const tag of conversionTags) {\n    const conversionIdParam = tag.parameter.find(param => \n      param.key === \"conversion_id\"\n    );\n    \n    const conversionLabelParam = tag.parameter.find(param => \n      param.key === \"conversion_label\"\n    );\n    \n    const tagConversionId = conversionIdParam ? conversionIdParam.value : null;\n    const tagConversionLabel = conversionLabelParam ? conversionLabelParam.value : null;\n    \n    // V√©rifier si cette balise a nos valeurs attendues\n    if (tagConversionId === expectedConversionId && tagConversionLabel === expectedConversionLabel) {\n      // Correspondance parfaite, mais v√©rifier si les d√©clencheurs sont associ√©s\n      result.correctConversionId = true;\n      result.correctConversionLabel = true;\n      result.matchingTagPath = tag.path;\n      result.tagId = tag.tagId;\n      \n      // V√©rifier si les d√©clencheurs sont d√©j√† associ√©s\n      const currentTriggerIds = (tag.firingTriggerId || []);\n      const missingTriggerIds = result.triggersToAssociate.filter(id => \n        !currentTriggerIds.includes(id)\n      );\n      \n      if (missingTriggerIds.length > 0) {\n        // Des d√©clencheurs doivent √™tre associ√©s\n        result.needsUpdate = true;\n        result.missingTriggerIds = missingTriggerIds;\n        result.currentTriggerIds = currentTriggerIds;\n      }\n      \n      break;\n    }\n    \n    // Si nous trouvons une balise avec le bon ID mais un mauvais label, nous la mettrons √† jour\n    if (tagConversionId === expectedConversionId) {\n      result.correctConversionId = true;\n      result.matchingTagPath = tag.path;\n      result.tagId = tag.tagId;\n      result.needsUpdate = true;\n      \n      // Inclure √©galement les d√©clencheurs dans la mise √† jour\n      const currentTriggerIds = (tag.firingTriggerId || []);\n      result.missingTriggerIds = result.triggersToAssociate.filter(id => \n        !currentTriggerIds.includes(id)\n      );\n      result.currentTriggerIds = currentTriggerIds;\n      \n      break;\n    }\n  }\n  \n  // Si nous avons trouv√© des balises de conversion mais aucune avec le bon ID, nous en cr√©erons une nouvelle\n  if (!result.correctConversionId) {\n    result.needsCreation = true;\n  }\n} else {\n  // Aucune balise de conversion trouv√©e, besoin d'en cr√©er une\n  result.needsCreation = true;\n}\n\nreturn result;"
      },
      "name": "Analyser les balises",
      "type": "n8n-nodes-base.function",
      "typeVersion": 1,
      "position": [
        880,
        160
      ],
      "id": "4d4c9337-9e34-4d3d-b96e-22fa0f236ab1"
    },
    {
      "parameters": {
        "conditions": {
          "string": [
            {
              "value1": "={{$json[\"needsCreation\"]}}",
              "value2": "true"
            }
          ]
        }
      },
      "name": "Cr√©ation n√©cessaire?",
      "type": "n8n-nodes-base.if",
      "typeVersion": 1,
      "position": [
        1100,
        160
      ],
      "id": "66fc2e7f-52d5-4167-ace1-a9f20e504d51"
    },
    {
      "parameters": {
        "conditions": {
          "string": [
            {
              "value1": "={{$json[\"needsUpdate\"]}}",
              "value2": "true"
            }
          ]
        }
      },
      "name": "Mise √† jour n√©cessaire?",
      "type": "n8n-nodes-base.if",
      "typeVersion": 1,
      "position": [
        1320,
        320
      ],
      "id": "3f12c295-ed35-4949-a199-38626cece0f4"
    },
    {
      "parameters": {
        "method": "POST",
        "url": "=https://tagmanager.googleapis.com/tagmanager/v2/accounts/{{$json[\"accountId\"]}}/containers/{{$json[\"containerId\"]}}/workspaces/{{$json[\"workspaceId\"]}}/tags",
        "authentication": "predefinedCredentialType",
        "nodeCredentialType": "googleOAuth2Api",
        "sendBody": true,
        "bodyParameters": {
          "parameters": [
            {
              "name": "name",
              "value": "=Google Ads Conversion {{$json[\"conversionId\"]}}"
            },
            {
              "name": "type",
              "value": "googtag"
            },
            {
              "name": "parameter",
              "value": "=[\n {\n \"key\": \"tag_type\",\n \"type\": \"template\",\n \"value\": \"ads_conversion\"\n },\n {\n \"key\": \"conversion_id\",\n \"type\": \"template\",\n \"value\": \"{{$json[\"conversionId\"]}}\"\n },\n {\n \"key\": \"conversion_label\",\n \"type\": \"template\",\n \"value\": \"{{$json[\"conversionLabel\"]}}\"\n },\n {\n \"key\": \"conversion_linker\",\n \"type\": \"template\",\n \"value\": \"true\"\n }\n]"
            },
            {
              "name": "firingTriggerId",
              "value": "={{$json.triggersToAssociate}}"
            }
          ]
        },
        "options": {}
      },
      "name": "Cr√©er balise",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 3,
      "position": [
        1320,
        160
      ],
      "id": "f9c52656-436a-47aa-8fc3-1ee209352245",
      "credentials": {
        "googleOAuth2Api": {
          "id": "vNG2KvbLx9MfF0Iq",
          "name": "Google tag manager"
        }
      }
    },
    {
      "parameters": {
        "method": "PATCH",
        "url": "=https://tagmanager.googleapis.com/tagmanager/v2/{{$json[\"matchingTagPath\"]}}",
        "authentication": "predefinedCredentialType",
        "nodeCredentialType": "googleOAuth2Api",
        "sendBody": true,
        "bodyParameters": {
          "parameters": [
            {
              "name": "parameter",
              "value": "=[\n {\n \"key\": \"tag_type\",\n \"type\": \"template\",\n \"value\": \"ads_conversion\"\n },\n {\n \"key\": \"conversion_id\",\n \"type\": \"template\",\n \"value\": \"{{$json[\"conversionId\"]}}\"\n },\n {\n \"key\": \"conversion_label\",\n \"type\": \"template\",\n \"value\": \"{{$json[\"conversionLabel\"]}}\"\n },\n {\n \"key\": \"conversion_linker\",\n \"type\": \"template\",\n \"value\": \"true\"\n }\n]"
            },
            {
              "name": "firingTriggerId",
              "value": "={{[...$json.currentTriggerIds, ...$json.missingTriggerIds]}}"
            }
          ]
        },
        "options": {}
      },
      "name": "Mettre √† jour balise",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 3,
      "position": [
        1540,
        320
      ],
      "id": "ea12e77f-e9cf-4554-b3eb-65670ee02cf5",
      "credentials": {
        "googleOAuth2Api": {
          "id": "vNG2KvbLx9MfF0Iq",
          "name": "Google tag manager"
        }
      }
    },
    {
      "parameters": {},
      "name": "Aucune action",
      "type": "n8n-nodes-base.noOp",
      "typeVersion": 1,
      "position": [
        1540,
        480
      ],
      "id": "0f338e61-1cf3-4ce5-9a37-f9105334ddef"
    },
    {
      "parameters": {
        "mode": "passThrough",
        "options": {}
      },
      "name": "Fusionner r√©sultats",
      "type": "n8n-nodes-base.merge",
      "typeVersion": 2,
      "position": [
        1760,
        320
      ],
      "id": "21bb7c9f-fa10-4f39-8353-bf0e74608da8"
    },
    {
      "parameters": {
        "conditions": {
          "string": [
            {
              "value1": "={{$node[\"Param√®tres d'entr√©e\"].json[\"autoPublish\"]}}",
              "value2": "true"
            }
          ]
        }
      },
      "name": "Publication auto?",
      "type": "n8n-nodes-base.if",
      "typeVersion": 1,
      "position": [
        1980,
        320
      ],
      "id": "420b106b-129f-45b9-99cd-0ceb0068564f"
    },
    {
      "parameters": {
        "method": "POST",
        "url": "=https://tagmanager.googleapis.com/tagmanager/v2/accounts/{{$node[\"Param√®tres d'entr√©e\"].json[\"accountId\"]}}/containers/{{$node[\"Param√®tres d'entr√©e\"].json[\"containerId\"]}}/workspaces/{{$node[\"Param√®tres d'entr√©e\"].json[\"workspaceId\"]}}/versions",
        "authentication": "predefinedCredentialType",
        "nodeCredentialType": "googleOAuth2Api",
        "sendBody": true,
        "bodyParameters": {
          "parameters": [
            {
              "name": "name",
              "value": "=Version cr√©√©e par MCP Autonome - {{$now.toISOString()}}"
            }
          ]
        },
        "options": {}
      },
      "name": "Cr√©er version",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 3,
      "position": [
        2200,
        320
      ],
      "id": "f9c52656-436a-47aa-8fc3-1ee209352247",
      "credentials": {
        "googleOAuth2Api": {
          "id": "vNG2KvbLx9MfF0Iq",
          "name": "Google tag manager"
        }
      }
    },
    {
      "parameters": {
        "method": "POST",
        "url": "=https://tagmanager.googleapis.com/tagmanager/v2/accounts/{{$node[\"Param√®tres d'entr√©e\"].json[\"accountId\"]}}/containers/{{$node[\"Param√®tres d'entr√©e\"].json[\"containerId\"]}}/versions/{{$json.containerVersionId}}/publish",
        "authentication": "predefinedCredentialType",
        "nodeCredentialType": "googleOAuth2Api",
        "options": {}
      },
      "name": "Publier version",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 3,
      "position": [
        2420,
        320
      ],
      "id": "ea12e77f-e9cf-4554-b3eb-65670ee02cf6",
      "credentials": {
        "googleOAuth2Api": {
          "id": "vNG2KvbLx9MfF0Iq",
          "name": "Google tag manager"
        }
      }
    },
    {
      "parameters": {},
      "name": "Sans publication",
      "type": "n8n-nodes-base.noOp",
      "typeVersion": 1,
      "position": [
        2200,
        480
      ],
      "id": "0f338e61-1cf3-4ce5-9a37-f9105334dde5"
    },
    {
      "parameters": {
        "mode": "passThrough",
        "options": {}
      },
      "name": "Fusionner publication",
      "type": "n8n-nodes-base.merge",
      "typeVersion": 2,
      "position": [
        2640,
        400
      ],
      "id": "21bb7c9f-fa10-4f39-8353-bf0e74608da9"
    },
    {
      "parameters": {
        "functionCode": "// R√©cup√©rer les donn√©es d'entr√©e\nconst input = $input.all()[0].json;\nconst createdVersion = $node[\"Cr√©er version\"].json;\nconst publishResult = $node[\"Publier version\"].json;\n\n// Construire l'URL GTM utile pour audit manuel\nconst gtmUrl = `https://tagmanager.google.com/#/container/accounts/${input.accountId}/containers/${input.containerId}/workspaces/${input.workspaceId}/tags`;\n\n// D√©tails de publication\nlet publicationDetails = {};\nif ($node[\"Param√®tres d'entr√©e\"].json[\"autoPublish\"]) {\n  publicationDetails = {\n    versionCreated: true,\n    versionId: createdVersion.containerVersionId,\n    versionName: createdVersion.name,\n    published: true,\n    publishStatus: publishResult.containerVersion.status || \"UNKNOWN\"\n  };\n} else {\n  publicationDetails = {\n    versionCreated: false,\n    published: false,\n    note: \"Publication automatique d√©sactiv√©e\"\n  };\n}\n\n// Construire le rapport final\nlet finalReport = {\n  meta: {\n    status: \"OK\",\n    timestamp: new Date().toISOString(),\n    reportUrl: gtmUrl\n  },\n  conversion: {\n    id: input.conversionId,\n    label: input.conversionLabel\n  },\n  result: {\n    initialTagFound: input.initialTagFound,\n    created: input.needsCreation,\n    updated: input.needsUpdate,\n    triggersAssociated: input.triggersToAssociate || []\n  },\n  publication: publicationDetails,\n  message: \"\"\n};\n\n// Ajouter un message appropri√©\nif (input.needsCreation) {\n  finalReport.message = \"üéØ Balise de conversion cr√©√©e avec succ√®s et associ√©e aux d√©clencheurs.\";\n} else if (input.needsUpdate) {\n  finalReport.message = \"üîÑ Balise de conversion mise √† jour avec succ√®s et associ√©e aux d√©clencheurs.\";\n} else {\n  finalReport.message = \"‚úÖ Balise de conversion d√©j√† correctement configur√©e.\";\n}\n\nif (publicationDetails.published) {\n  finalReport.message += \" Les modifications ont √©t√© publi√©es automatiquement.\";\n}\n\n// Retourner dans un format MCP-friendly\nreturn [{ json: finalReport }];"
      },
      "name": "G√©n√©rer rapport",
      "type": "n8n-nodes-base.function",
      "typeVersion": 1,
      "position": [
        2860,
        400
      ],
      "id": "420b106b-129f-45b9-99cd-0ceb0068563f"
    }
  ],
  "connections": {
    "Start": {
      "main": [
        [
          {
            "node": "Param√®tres d'entr√©e",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Param√®tres d'entr√©e": {
      "main": [
        [
          {
            "node": "R√©cup√©rer les d√©clencheurs",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "R√©cup√©rer les d√©clencheurs": {
      "main": [
        [
          {
            "node": "Analyser les d√©clencheurs",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Analyser les d√©clencheurs": {
      "main": [
        [
          {
            "node": "D√©clencheurs √† cr√©er",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "D√©clencheurs √† cr√©er": {
      "main": [
        [
          {
            "node": "Cr√©er d√©clencheur",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Cr√©er d√©clencheur": {
      "main": [
        [
          {
            "node": "R√©cup√©rer les balises",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "R√©cup√©rer les balises": {
      "main": [
        [
          {
            "node": "Analyser les balises",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Analyser les balises": {
      "main": [
        [
          {
            "node": "Cr√©ation n√©cessaire?",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Cr√©ation n√©cessaire?": {
      "main": [
        [
          {
            "node": "Cr√©er balise",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Mise √† jour n√©cessaire?",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Mise √† jour n√©cessaire?": {
      "main": [
        [
          {
            "node": "Mettre √† jour balise",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Aucune action",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Cr√©er balise": {
      "main": [
        [
          {
            "node": "Fusionner r√©sultats",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Mettre √† jour balise": {
      "main": [
        [
          {
            "node": "Fusionner r√©sultats",
            "type": "main",
            "index": 1
          }
        ]
      ]
    },
    "Aucune action": {
      "main": [
        [
          {
            "node": "Fusionner r√©sultats",
            "type": "main",
            "index": 2
          }
        ]
      ]
    },
    "Fusionner r√©sultats": {
      "main": [
        [
          {
            "node": "Publication auto?",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Publication auto?": {
      "main": [
        [
          {
            "node": "Cr√©er version",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Sans publication",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Cr√©er version": {
      "main": [
        [
          {
            "node": "Publier version",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Publier version": {
      "main": [
        [
          {
            "node": "Fusionner publication",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Sans publication": {
      "main": [
        [
          {
            "node": "Fusionner publication",
            "type": "main",
            "index": 1
          }
        ]
      ]
    },
    "Fusionner publication": {
      "main": [
        [
          {
            "node": "G√©n√©rer rapport",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "settings": {
    "executionOrder": "v1",
    "saveExecutionProgress": true,
    "saveManualExecutions": true,
    "callerPolicy": "workflowsFromSameOwner",
    "errorWorkflow": ""
  },
  "active": false,
  "versionId": "c8587f2f-b1bf-44bb-8d2e-1490ffc974b3",
  "meta": {
    "instanceId": "ae392bed66ca763ca907af333c258a089db99c3d85f85645d1d84f28292f84da"
  },
  "id": "VDvnBJPiHM9rpKoP",
  "tags": [
    {
      "name": "GTM",
      "id": "1WVbNokB9VqdkjOU"
    },
    {
      "name": "Google Ads",
      "id": "jsyqbOwyAT2fiqwq"
    },
    {
      "name": "MCP",
      "id": "ksyqbOwyAT2fiqwr"
    }
  ]
}